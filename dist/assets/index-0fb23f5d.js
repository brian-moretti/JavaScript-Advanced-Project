(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();const B="/assets/favicon-65c82624.svg",p=document.getElementById("header");o("img","",p,{src:B,alt:"man reading a book",width:"100px"});o("h1","The Book Camp",p);document.getElementById("main");const E=document.getElementById("formContainer"),f=o("form","",E,{id:"form",name:"searchBook"}),y=o("label",'"Reading is that island where all dreamers land."',f,{id:"labelInput",for:"category"}),g=o("input","",f,{type:"text",id:"category",placeholder:"Write a Category...",required:!0,autocomplete:"off"});g.addEventListener("focusin",()=>{y.style.visibility="visible"});g.addEventListener("focusout",()=>{y.style.visibility="hidden"});o("button",'<i class="fa-solid fa-magnifying-glass"></i>',f,{id:"inputBtn",type:"submit"});const l=document.getElementById("books"),a=document.getElementById("bookContainer"),M=document.getElementById("footer"),w=new Date,b=o("div","",M,{id:"footerContainer"});o("h3",`&copy; Copyright ${w.getFullYear()} - 
    <a href="https://github.com/brian-moretti" target="_blank" rel="noopener noreferrer">
    <i class="fa-brands fa-github"></i></a>`,b);o("h3",`Developed & Designed with 
    <i class="fa-solid fa-code"></i> and <i class="fa-solid fa-heart"></i> 
    by <a href="https://brian-moretti.github.io/" target="_blank">Brian Moretti</a>`,b);function o(n,i,c,s){let e=document.createElement(n);e.innerHTML=i,c.append(e);for(let t in s)e.setAttribute(t,s[t]);return e}function C(n){return n.toLowerCase().trim().split(" ").join("_")}async function h(n){return await(await fetch(n)).json()}function H(){let n=C(g.value);h(`https://openlibrary.org/subjects/${n}.json`).finally(()=>{l.innerHTML="",l.classList.remove("notFound")}).then(i=>{console.log(i);let c="",s=i.works;if(s.length>0)for(let e of s)l.classList.remove("notFound"),l.style.display="flex",c+=`
                    <div class="singleBook" data-book="${e.key}">
                    <h2 id="title">${e.title}</h2>
                    <img src=${"https://covers.openlibrary.org/b/id/"+e.cover_id+"-M.jpg"} alt="${e.title}">
                    <h5>${e.authors[0].name}</h5>
                    <p id="description"></p>
                    </div>
                    `,l.innerHTML=c;else l.style.display="block",l.classList.add("notFound"),l.innerHTML="<h3> Ops, the category of books you are looking for doesn't exist.<br/>Please try another category<h3>"}).catch(i=>{alert(i.message),console.log(i.message)})}function T(){a.hasAttribute("hidden")&&a.removeAttribute("hidden")}function $(n){const i=n.target.closest("div");if(i.className!="singleBook")return;T();let c=i.dataset.book;const s=o("div","",a,{id:"modal"}),e=o("div","",s,{class:"detail-1"}),t=o("div","",s,{class:"detail-2"}),d=o("img","",e),v=o("h5","",e),k=o("h2","",t),m=o("p","",t),L=o("span","&times;",s,{class:"cross"});s.classList.add("no-overscroll"),h(`https://openlibrary.org${c}.json`).then(r=>{k.innerHTML=r.title,r.covers?d.src=`https://covers.openlibrary.org/b/id/${r.covers[0]}-M.jpg`:(d.src="",d.alt="Image not Found :("),h(`https://openlibrary.org${r.authors[0].author.key}.json`).then(u=>{v.innerHTML=u.name}).catch(u=>{alert(u.message),console.log(u.message)}),r.description?r.description.value===void 0?m.innerHTML=r.description:m.innerHTML=r.description.value:m.innerHTML="Description not found :( "}).catch(r=>{console.log(r.message),alert(r.message)}),L.addEventListener("click",()=>{a.hasAttribute("hidden")?a.removeAttribute("hidden"):(a.setAttribute("hidden",!0),s.remove())})}f.addEventListener("submit",n=>{n.preventDefault(),H()});l.addEventListener("click",$);document.addEventListener("keydown",n=>{n.key==="Escape"&&(a.setAttribute("hidden",!0),modal.remove())});a.addEventListener("click",n=>{n.target==a&&(a.setAttribute("hidden",!0),modal.remove())});
